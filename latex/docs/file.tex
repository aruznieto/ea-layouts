%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% PLANTILLA AC
% Realizado por: C.C. Andrés Ruz Nieto (CGEA-CBE-CTP)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Clase de documento (Utilizar la que interese)
\documentclass[a4paper,onecolumn,openany,twoside]{book}

% Márgenes de las páginas
\usepackage[
  inner	=	3.0cm, % Margen interior
  outer	=	3cm, % Margen exterior
  top	=	2.5cm, % Margen superior
  bottom=	2.5cm, % Margen inferior
  includeheadfoot, % Incluye cabecera y pie de página en los márgenes
]{geometry}

% Valor de interlineado
\renewcommand{\baselinestretch}{1.15} % 1 línea de interlineado

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% PAQUETES
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[T1]{fontenc}
\usepackage{fontspec} % Para poder importar las fuentes
\usepackage{textpos} % Para posicionar bloques de texto
\usepackage{graphicx} % Para cargar imágenes
\usepackage{float}
\usepackage{setspace} % Para modificar los espacios arriba y abajo
\usepackage[spanish]{babel} % Para cambiar el idioma a español
\usepackage[dvipsnames]{xcolor} % Para personalizar colores
\usepackage[hidelinks]{hyperref} % Para insertar enlaces y hacer el índice dinámico
\usepackage{colortbl}
\usepackage{rotating}
\usepackage{multirow}
\usepackage{multicol}
\usepackage{booktabs}
\usepackage{fancyhdr} % Para personalizar header y footer
\usepackage[Glenn]{fncychap} % Personalizar capitulo
\usepackage{titlesec}
\usepackage{capt-of}
\usepackage{enumitem}
\usepackage{csquotes} % Recomendado para biblatex
\usepackage[backend=bibtex,bibencoding=utf8,sorting=none]{biblatex} % Para poner bibliografía
\usepackage{listings}
\usepackage{appendix}
\usepackage{subcaption} % Varias figuras
\usepackage{xparse}
\usepackage{tabularx}
\usepackage{ltablex}
\usepackage{glossaries}
\NewDocumentCommand{\codewordblue}{v}{%
\texttt{\textcolor{blue}{#1}}%
}

\NewDocumentCommand{\codewordred}{v}{%
\texttt{\textcolor{red}{#1}}%
}

\NewDocumentCommand{\codewordgreen}{v}{%
\texttt{\textcolor{green}{#1}}%
}

\lstset{language=bash,keywordstyle={\bfseries \color{blue}}}

\addbibresource{bibliografia.bib} % Añadimos el archivo .bib (donde se encuentra la bibliografía)

\emergencystretch=1em
% Modificaciones de header y footer
\newcommand{\changefont}{%
    \fontsize{8}{8}\selectfont
}
\pagestyle{fancy}
\fancyhf{}
\lhead{\changefont \leftmark} % \leftmark -> Título del capítulo
\rhead{\changefont \rightmark} % \rightmark -> Título de la sección
\cfoot{\thepage} % \thepage -> Número de la página
\setlength{\headheight}{12.41003pt}

% Declaración de colores personalizados
\definecolor{GrisClaro}{RGB}{89,89,89}
\definecolor{GrisUPV}{RGB}{75,76,77}
\definecolor{AzulUPCT}{RGB}{38,90,136}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}

\lstdefinestyle{pythonstyle}{
    breaklines=true,
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    stringstyle=\color{codepurple},
    deletekeywords={...}, 
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2,
    frame=single
}

\lstset{style=pythonstyle}

\newcommand{\bolditem}{\normalfont\bfseries\origitem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% INFORMACIÓN DEL TRABAJO
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Universidad y facultad
\newcommand{\Universidad}{Academia General del Aire}
\newcommand{\Facultad}{}
% Titulación
\newcommand{\Titulacion}{Especialidad de Ciberespacio}
% Título del trabajo
\newcommand{\titulo}{Titulo}
% Tipo de trabajo
\newcommand{\tipotrabajo}{Asignatura}
% Datos del autor
\newcommand{\miNombre}{C.C. Andrés Ruz Nieto}
\newcommand{\miEmail}{aruznie@mde.es}
% Datos del tutor/es
\newcommand{\misTutores}{Nombre Apellido1 Apellido2 \\ Nombre Apellido1 Apellido2}
% Ubicación
\newcommand{\miUbicacion}{San Javier}

\setmainfont[
  UprightFont = font/Montserrat-Regular ,
  BoldFont = font/Montserrat-Bold ,
  ItalicFont = font/Montserrat-Italic ,
  BoldItalicFont = font/Montserrat-BoldItalic,
  Extension = .otf
]{TFGFont}

\raggedbottom

% Path donde se guardan las imágenes
\graphicspath{{./img/}}

\makeglossaries
\loadglsentries{glo}


\begin{document}

\renewcommand{\listtablename}{Índice de tablas}
\renewcommand{\tablename}{Tabla}
\setlength{\parskip}{6mm}

\renewcommand{\appendixname}{Anexo}
\renewcommand{\appendixtocname}{Anexos}
\renewcommand{\appendixpagename}{Anexos}
\renewcommand{\lstlistingname}{Código}
\renewcommand{\lstlistlistingname}{Índice de \lstlistingname s}

%%%%% PORTADA
\input{portada} % Portada B/N

%%%%% RESUMEN
% Restablecer color a negro
\color{Black}
%%%%% Agradecimientos + resumen
%\input{resumen}

%%%%% INDICES
\tableofcontents
%\listoffigures
%\listoftables
%\lstlistoflistings

%%%%% Resto del documento
\input{c1}

\clearpage

\printglossaries

%\input{codigointeres}

\printbibliography[heading=bibintoc,title={Bibliografía}]

%\input{anexos}

\end{document}
